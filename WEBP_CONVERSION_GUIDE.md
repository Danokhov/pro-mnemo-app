# Руководство по конвертации изображений в WebP

## Способ 1: Автоматическая конвертация (Рекомендуется)

### Шаг 1: Установите библиотеку Sharp
```bash
npm install sharp --save-dev
```

### Шаг 2: Запустите скрипт конвертации
```bash
npm run convert-images
```

Скрипт автоматически:
- Найдет все изображения (JPG, PNG) в папке `public/images/associations/`
- Конвертирует их в WebP формат с качеством 85%
- Сохранит рядом с оригиналом (например: `image.jpg` → `image.webp`)
- Покажет статистику по экономии места

## Способ 2: Онлайн конвертация

Если хотите конвертировать вручную несколько изображений:

1. **Squoosh** (Google): https://squoosh.app/
   - Загрузите изображение
   - Выберите формат WebP
   - Настройте качество (рекомендуется 80-85%)
   - Скачайте результат

2. **CloudConvert**: https://cloudconvert.com/jpg-to-webp
   - Поддерживает пакетную конвертацию
   - Бесплатно до 25 файлов в день

3. **Convertio**: https://convertio.co/jpg-webp/
   - Простой интерфейс
   - Пакетная конвертация

## Способ 3: Использование WebP в коде

После конвертации нужно обновить код, чтобы использовать WebP версии с fallback на оригиналы:

### Вариант 1: Автоматический выбор (рекомендуется)

Добавьте функцию, которая автоматически выбирает WebP, если доступен:

```typescript
function getImageSrc(originalPath: string): string {
  // Пытаемся использовать WebP версию
  const webpPath = originalPath.replace(/\.(jpg|jpeg|png)$/i, '.webp');
  
  // В продакшене можно проверить наличие файла
  // Для простоты используем WebP, если браузер поддерживает
  if (typeof window !== 'undefined' && window.Modernizr?.webp) {
    return webpPath;
  }
  
  return originalPath;
}
```

### Вариант 2: Использование тега `<picture>`

```jsx
<picture>
  <source srcSet={imagePath.replace(/\.(jpg|jpeg|png)$/i, '.webp')} type="image/webp" />
  <img src={imagePath} alt={alt} />
</picture>
```

## Преимущества WebP:

- **Размер файла**: На 25-35% меньше чем JPG/PNG
- **Качество**: Сохраняет высокое качество при меньшем размере
- **Поддержка**: Поддерживается всеми современными браузерами

## Поддержка браузеров:

WebP поддерживается в:
- Chrome (с 2010 года)
- Firefox (с 2019 года)
- Safari (с 2020 года)
- Edge (с 2018 года)

Для старых браузеров можно использовать fallback на оригинальные форматы.

## После конвертации:

1. Проверьте, что WebP файлы созданы
2. Обновите код для использования WebP (опционально - можно использовать оба формата)
3. Удалите оригинальные файлы только после проверки, что все работает
